<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Catálogo Digital Certis Agro · Edición Ultra Premium</title>
    <meta name="description" content="Catálogo interactivo de soluciones biológicas para agricultura sustentable.">

    <!-- Tipografías Premium -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Outfit:wght@400;500;700&display=swap" rel="stylesheet" />

    <!-- React y ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Babel para JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Plus Jakarta Sans"', 'sans-serif'],
                        heading: ['"Outfit"', 'sans-serif'],
                    },
                    colors: {
                        certis: {
                            50: '#ecfdf5',
                            100: '#d1fae5',
                            500: '#10b981',
                            600: '#059669',
                            700: '#047857',
                            900: '#064e3b',
                        }
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                        'glow': '0 0 15px rgba(16, 185, 129, 0.3)',
                    }
                }
            }
        }
    </script>

    <!-- jsPDF para PDF técnico -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        /* Estilos base y utilidades personalizadas */
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            -webkit-font-smoothing: antialiased;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Outfit', sans-serif;
        }
        
        /* Animaciones */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }
        .animate-float {
            animation: float 4s ease-in-out infinite;
        }
        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.98); }
            to { opacity: 1; transform: scale(1); }
        }
        .animate-in {
            animation: fadeInScale 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        /* Scrollbar oculta pero funcional */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* Efecto Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.7);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
        }
        .dark .glass {
            background: rgba(17, 24, 39, 0.7);
        }
    </style>
</head>
<body class="bg-gray-50 text-slate-900 transition-colors duration-300" id="body">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect, useRef } = React;

        // --- Iconos SVG Inline Optimizados ---
        const Icons = {
            Search: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>,
            Leaf: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/></svg>,
            Sprout: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M7 20h10"/><path d="M10 20c5.5-2.5.8-6.4 3-10"/><path d="M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.2.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z"/><path d="M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z"/></svg>,
            Bug: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m8 2 1.88 1.88"/><path d="M14.12 3.88 16 2"/><path d="M9 7.13v-1a3.003 3.003 0 1 1 6 0v1"/><path d="M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6"/><path d="M12 20v-9"/><path d="M6.53 9C4.6 8.8 3 7.1 3 5"/><path d="M6 13H2"/><path d="M3 21c0-2.1 1.7-3.9 3.8-4"/><path d="M20.97 5c0 2.1-1.6 3.8-3.5 4"/><path d="M22 13h-4"/><path d="M17.2 17c2.1.1 3.8 1.9 3.8 4"/></svg>,
            Shield: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>,
            Droplets: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.8-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"/><path d="M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"/></svg>,
            ChevronRight: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m9 18 6-6-6-6"/></svg>,
            Info: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>,
            X: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>,
            Filter: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>,
            Share: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><path d="M8.59 13.51 15.42 17.49"/><path d="M15.41 6.51 8.59 10.49"/></svg>,
            Moon: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>,
            Sun: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>,
            Heart: ({ filled, ...props }) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill={filled ? "currentColor" : "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>,
            CheckCircle: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="M22 4 12 14.01l-3-3"/></svg>,
            FileText: (props) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></svg>
        };

        // --- Datos ---
        
        // --- Uploader de Imágenes PNG (Base64 + localStorage) ---
        const ImageUploader = ({ product, onImageChange }) => {
            const handleImageUpload = (e) => {
                const file = e.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onloadend = () => {
                    onImageChange(product.id, reader.result);
                    localStorage.setItem("product_image_" + product.id, reader.result);
                };
                reader.readAsDataURL(file);
            };
            return (
                <label className="text-[10px] px-2 py-1 bg-white/80 dark:bg-black/40 rounded cursor-pointer">
                    Subir PNG
                    <input type="file" accept="image/png" className="hidden" onChange={handleImageUpload}/>
                </label>
            );
        };

const PRODUCTS = [
    {
        id: 1,
        name: "AgSil® 25",
        category: "Nutriente",
        type: "Potenciador",
        activeIngredient: "Silicato de Potasio",
        description: "Nutriente soluble que fortalece las paredes celulares, mejorando resistencia a estrés biótico y abiótico.",
        benefits: ["Arquitectura de planta superior", "Resistencia a sequía y sales", "Ideal para MIP"],
        crops: ["Bayas", "Hortalizas", "Ornamentales"],
        color: "bg-blue-600",
        image: "./public/Agsil-25-1.png"
    },
    {
        id: 2,
        name: "AMYLO-X® WG",
        category: "Biofungicida",
        type: "Biológico",
        activeIngredient: "Bacillus amyloliquefaciens",
        description: "Biofungicida de amplio espectro para el control de enfermedades foliares y radiculares en sistemas intensivos.",
        benefits: ["Doble modo de acción", "Sin LMR (Residuos)", "Apto para exportación"],
        crops: ["Uva", "Tomate", "Cucurbitáceas"],
        color: "bg-certis-600",
        image: "./public/Amylox-x-WG.png"
    },
    {
        id: 3,
        name: "DES-X®",
        category: "Insecticida",
        type: "Bioracional",
        activeIngredient: "Sales potásicas",
        description: "Jabón insecticida y acaricida de contacto para el control de insectos de cuerpo blando.",
        benefits: ["Efecto de choque", "Seguro para benéficos", "Intervalo de seguridad: 0 días"],
        crops: ["Hortalizas", "Frutales", "Ornamentales"],
        color: "bg-red-500",
        image: "./public/Des-x-1.png"
    },
    {
        id: 4,
        name: "KOCIDE® 2000-O",
        category: "Fungicida",
        type: "Mineral",
        activeIngredient: "Hidróxido de Cobre",
        description: "Fungicida y bactericida cúprico avanzado con certificación orgánica OMRI.",
        benefits: ["Alta biodisponibilidad", "Menos cobre metálico/ha", "Control bacteriano superior"],
        crops: ["Cítricos", "Nogal", "Hortalizas"],
        color: "bg-teal-600",
        image: "./public/Kocide2000-1.png"
    },
    {
        id: 5,
        name: "Mycotrol® ESO",
        category: "Bioinsecticida",
        type: "Biológico",
        activeIngredient: "Beauveria bassiana",
        description: "Insecticida micológico líder para el control de mosca blanca, trips y áfidos.",
        benefits: ["Formulación en aceite premium", "Control de ninfas y adultos", "Rompe resistencia química"],
        crops: ["Chile", "Tomate", "Berenjena"],
        color: "bg-emerald-600",
        image: "./public/Mycontrol-ES.png"
    },
    {
        id: 6,
        name: "Neemazad® 1% EC",
        category: "Bioinsecticida",
        type: "Botánico",
        activeIngredient: "Azadiractina",
        description: "Regulador de crecimiento (IGR) botánico extraído de la semilla de Neem.",
        benefits: ["Triple acción (IGR, Repelente)", "Certificado orgánico", "Ideal para rotaciones"],
        crops: ["Aguacate", "Berries", "Hortalizas"],
        color: "bg-emerald-600",
        image: "./public/Neemazad-1.png"
    },
    {
        id: 7,
        name: "PFR-97® 20% WDG",
        category: "Bioinsecticida",
        type: "Biológico",
        activeIngredient: "Isaria fumosorosea",
        description: "Hongo entomopatógeno especializado en mosca blanca y ácaros.",
        benefits: ["Infección por contacto", "Todas las etapas de vida", "Compatible con polinizadores"],
        crops: ["Solanáceas", "Cucurbitáceas", "Flores"],
        color: "bg-emerald-600",
        image: "./public/PFR-97-1.png"
    },
    {
        id: 8,
        name: "SoilGard® 12G",
        category: "Biofungicida",
        type: "Biológico",
        activeIngredient: "Trichoderma virens",
        description: "Fungicida granular preventivo para enfermedades de raíz (Pythium, Rhizoctonia).",
        benefits: ["Rápida colonización", "Protección persistente", "Fácil aplicación al suelo"],
        crops: ["Hortalizas", "Viveros"],
        color: "bg-certis-600",
        image: "./public/SoilGard12G.png"
    },
    {
        id: 9,
        name: "Thuricide® PH",
        category: "Bioinsecticida",
        type: "Biológico",
        activeIngredient: "Bacillus thuringiensis",
        description: "Insecticida biológico clásico para control específico de larvas de lepidópteros.",
        benefits: ["Selectividad alta", "Seguro para fauna benéfica", "Pilar del MIP"],
        crops: ["Maíz", "Hortalizas", "Frutales"],
        color: "bg-emerald-600",
        image: "./public/Thuricide-1.png"
    }
];


        const CATEGORIES = ["Todos", "Favoritos", "Bioinsecticida", "Biofungicida", "Fungicida", "Insecticida", "Nutriente"];

        // --- Utilidades ---
        const generatePDF = (product) => {
            try {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                
                // Header corporativo (simulado)
                doc.setFillColor(16, 185, 129); // Emerald 500
                doc.rect(0, 0, 210, 20, 'F');
                doc.setTextColor(255, 255, 255);
                doc.setFontSize(24);
                doc.setFont("helvetica", "bold");
                doc.text("CERTIS AGRO", 10, 13);
                
                // Título Producto
                doc.setTextColor(33, 33, 33);
                doc.setFontSize(22);
                doc.text(product.name, 10, 40);
                
                // Detalles
                doc.setFontSize(12);
                doc.setFont("helvetica", "normal");
                doc.setTextColor(100);
                doc.text(`Categoría: ${product.category} | Tipo: ${product.type}`, 10, 50);
                
                // Ingrediente
                doc.setFillColor(240, 253, 244); // Emerald 50
                doc.rect(10, 55, 190, 15, 'F');
                doc.setTextColor(5, 150, 105); // Emerald 600
                doc.setFont("helvetica", "bold");
                doc.text(`Ingrediente Activo: ${product.activeIngredient}`, 15, 65);
                
                // Descripción
                doc.setTextColor(50);
                doc.setFont("helvetica", "normal");
                const descLines = doc.splitTextToSize(product.description, 190);
                doc.text(descLines, 10, 85);
                
                // Beneficios
                doc.setFont("helvetica", "bold");
                doc.text("Beneficios Clave:", 10, 110);
                doc.setFont("helvetica", "normal");
                let y = 120;
                product.benefits.forEach(b => {
                    doc.text(`• ${b}`, 15, y);
                    y += 8;
                });
                
                // Footer
                doc.setFontSize(8);
                doc.setTextColor(150);
                doc.text(`Generado desde el Catálogo Digital Certis Agro - ${new Date().toLocaleDateString()}`, 10, 280);
                
                doc.save(`${product.name.replace(/\s+/g, '_')}_Ficha.pdf`);
            } catch (e) {
                alert("Error al generar PDF. Intente nuevamente.");
            }
        };

        const StatCard = ({ icon: Icon, value, label }) => (
            <div className="flex items-center gap-3 px-4 py-3 rounded-xl bg-white/10 backdrop-blur-sm border border-white/10 hover:bg-white/15 transition-colors">
                <div className="w-10 h-10 rounded-lg bg-emerald-500 flex items-center justify-center text-white shrink-0">
                    <Icon className="w-6 h-6" />
                </div>
                <div>
                    <p className="text-lg font-bold text-white leading-none">{value}</p>
                    <p className="text-[10px] text-emerald-100 uppercase tracking-wider font-medium mt-1">{label}</p>
                </div>
            </div>
        );

        // --- Componente Principal ---
        
const App = () => {
            const [productImages, setProductImages] = useState({});
            useEffect(() => {
                PRODUCTS.forEach(p => {
                    const saved = localStorage.getItem("product_image_" + p.id);
                    if (saved) setProductImages(prev => ({...prev, [p.id]: saved}));
                });
            }, []);
            const updateProductImage = (id, img) => {
                setProductImages(prev => ({...prev, [id]: img}));
            };

            const [selectedCategory, setSelectedCategory] = useState("Todos");
            const [searchQuery, setSearchQuery] = useState("");
            const [selectedProduct, setSelectedProduct] = useState(null);
            const [darkMode, setDarkMode] = useState(false);
            const [favorites, setFavorites] = useState([]);
            const catalogRef = useRef(null);

            // Persistencia de modo oscuro
            useEffect(() => {
                if (darkMode) document.documentElement.classList.add('dark');
                else document.documentElement.classList.remove('dark');
            }, [darkMode]);

            // Toggle favoritos
            const toggleFavorite = (e, id) => {
                e.stopPropagation();
                setFavorites(prev => 
                    prev.includes(id) ? prev.filter(fav => fav !== id) : [...prev, id]
                );
            };

            // Filtrado inteligente
            const filteredProducts = useMemo(() => {
                const query = searchQuery.toLowerCase().trim();
                return PRODUCTS.filter(p => {
                    const inCategory = selectedCategory === "Todos" 
                        ? true 
                        : selectedCategory === "Favoritos" 
                            ? favorites.includes(p.id) 
                            : p.category === selectedCategory;
                    
                    const inSearch = !query || 
                        p.name.toLowerCase().includes(query) || 
                        p.activeIngredient.toLowerCase().includes(query) ||
                        p.description.toLowerCase().includes(query);
                        
                    return inCategory && inSearch;
                });
            }, [selectedCategory, searchQuery, favorites]);

            const scrollToCatalog = () => catalogRef.current?.scrollIntoView({ behavior: "smooth" });

            return (
                <div className={`min-h-screen flex flex-col ${darkMode ? 'bg-gray-950' : 'bg-gray-50'}`}>
                    
                    {/* HERO SECTION ULTRA PREMIUM */}
                    <header className="relative min-h-[85vh] flex flex-col">
                        {/* Fondo con Overlay Gradiente */}
                        <div className="absolute inset-0 z-0">
                            <img 
                                src="https://images.unsplash.com/photo-1625246333195-78d9c38ad449?q=80&w=2070&auto=format&fit=crop" 
                                className="w-full h-full object-cover"
                                alt="Campo agrícola"
                            />
                            <div className="absolute inset-0 bg-gradient-to-r from-slate-900/90 via-slate-900/80 to-transparent"></div>
                            <div className="absolute inset-0 bg-gradient-to-t from-gray-50 dark:from-gray-950 via-transparent to-transparent h-32 bottom-0"></div>
                        </div>

                        {/* Navegación */}
                        <nav className="relative z-10 px-6 py-6 flex justify-between items-center max-w-7xl mx-auto w-full">
                            <div className="flex items-center gap-3 animate-in">
                                <div className="w-10 h-10 bg-emerald-500 rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-glow">
                                    C
                                </div>
                                <span className="text-white font-bold text-xl tracking-tight hidden sm:block">CERTIS AGRO</span>
                            </div>
                            <button 
                                onClick={() => setDarkMode(!darkMode)}
                                className="p-2.5 rounded-full bg-white/10 backdrop-blur border border-white/10 text-white hover:bg-white/20 transition-colors"
                            >
                                {darkMode ? <Icons.Sun className="w-5 h-5"/> : <Icons.Moon className="w-5 h-5"/>}
                            </button>
                        </nav>

                        {/* Contenido Hero */}
                        <div className="relative z-10 flex-1 flex items-center max-w-7xl mx-auto w-full px-6 pb-20">
                            <div className="max-w-3xl space-y-8 animate-in">
                                <div className="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-emerald-500/20 border border-emerald-400/30 backdrop-blur text-emerald-300 text-xs font-bold uppercase tracking-widest">
                                    <span className="w-2 h-2 rounded-full bg-emerald-400 animate-pulse"></span>
                                    Innovación Biológica
                                </div>
                                
                                <h1 className="text-5xl md:text-7xl font-extrabold text-white tracking-tight leading-tight">
                                    El futuro de la <br/>
                                    <span className="text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300">
                                        agricultura sostenible
                                    </span>
                                </h1>
                                
                                <p className="text-lg md:text-xl text-slate-300 max-w-xl leading-relaxed">
                                    Descubre soluciones biorracionales de alto impacto para potenciar tus cultivos respetando el medio ambiente.
                                </p>

                                <div className="flex flex-wrap gap-4 pt-4">
                                    <button onClick={scrollToCatalog} className="px-8 py-4 rounded-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold text-sm tracking-wide shadow-lg shadow-emerald-500/30 hover:-translate-y-1 transition-all flex items-center gap-2">
                                        EXPLORAR CATÁLOGO <Icons.ChevronRight className="w-4 h-4"/>
                                    </button>
                                    <a href="#contacto" className="px-8 py-4 rounded-full bg-white text-slate-900 hover:bg-gray-100 font-bold text-sm tracking-wide shadow-lg hover:-translate-y-1 transition-all">
                                        CONTACTAR EXPERTO
                                    </a>
                                </div>

                                {/* Stats Bar */}
                                <div className="pt-12 grid grid-cols-2 md:grid-cols-3 gap-4 border-t border-white/10 mt-8">
                                    <StatCard icon={Icons.CheckCircle} value="+15 Años" label="Experiencia" />
                                    <StatCard icon={Icons.Leaf} value="100%" label="Biológico" />
                                    <StatCard icon={Icons.Sprout} value="Certificado" label="OMRI / GlobalGAP" />
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* CATALOG SECTION */}
                    <div ref={catalogRef} className="flex-1 bg-white dark:bg-gray-950 relative -mt-10 rounded-t-[2.5rem] z-20 shadow-[0_-20px_40px_rgba(0,0,0,0.1)]">
                        <div className="max-w-7xl mx-auto px-6 py-12">
                            
                            {/* Buscador y Filtros */}
                            <div className="flex flex-col lg:flex-row gap-8 items-end justify-between mb-12">
                                <div className="w-full lg:w-auto space-y-2">
                                    <h3 className="text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-3">
                                        <Icons.Sprout className="text-emerald-500 w-8 h-8" />
                                        Soluciones Disponibles
                                    </h3>
                                    <p className="text-slate-500 dark:text-slate-400">Encuentra el producto ideal para tu cultivo.</p>
                                </div>

                                <div className="w-full lg:w-auto flex flex-col md:flex-row gap-4">
                                    {/* Search Input */}
                                    <div className="relative group w-full md:w-80">
                                        <input
                                            type="text"
                                            placeholder="Buscar ingrediente, plaga..."
                                            value={searchQuery}
                                            onChange={(e) => setSearchQuery(e.target.value)}
                                            className="w-full pl-12 pr-4 py-3.5 rounded-2xl bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20 outline-none transition-all text-slate-700 dark:text-white placeholder:text-gray-400"
                                        />
                                        <Icons.Search className="absolute left-4 top-3.5 w-5 h-5 text-gray-400 group-focus-within:text-emerald-500 transition-colors" />
                                    </div>
                                </div>
                            </div>

                            {/* Categorías Tabs */}
                            <div className="flex gap-3 overflow-x-auto pb-4 mb-8 no-scrollbar">
                                {CATEGORIES.map(cat => (
                                    <button
                                        key={cat}
                                        onClick={() => setSelectedCategory(cat)}
                                        className={`
                                            px-5 py-2.5 rounded-full text-sm font-bold whitespace-nowrap transition-all duration-300 flex items-center gap-2
                                            ${selectedCategory === cat 
                                                ? 'bg-slate-900 dark:bg-white text-white dark:text-slate-900 shadow-lg transform scale-105' 
                                                : 'bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700'
                                            }
                                        `}
                                    >
                                        {cat === "Favoritos" && <Icons.Heart className={`w-4 h-4 ${selectedCategory === cat ? 'fill-current' : ''}`} />}
                                        {cat}
                                    </button>
                                ))}
                            </div>

                            {/* Grid de Productos */}
                            {filteredProducts.length > 0 ? (
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                    {filteredProducts.map(product => (
                                        <div 
                                            key={product.id}
                                            onClick={() => setSelectedProduct(product)}
                                            className="group bg-white dark:bg-gray-900 rounded-3xl border border-gray-100 dark:border-gray-800 hover:border-emerald-500/30 hover:shadow-2xl hover:shadow-emerald-500/10 transition-all duration-300 cursor-pointer overflow-hidden flex flex-col h-full relative"
                                        >
                                            {/* Badge Categoría */}
                                            <div className="absolute top-4 left-4 z-10 flex gap-2"><ImageUploader product={product} onImageChange={updateProductImage} />
                                                <span className="px-3 py-1 rounded-full bg-white/90 dark:bg-black/80 backdrop-blur text-[10px] font-bold uppercase tracking-wider text-emerald-600 shadow-sm">
                                                    {product.category}
                                                </span>
                                            </div>
                                            
                                            {/* Botón Favorito */}
                                            <button 
                                                onClick={(e) => toggleFavorite(e, product.id)}
                                                className={`absolute top-4 right-4 z-10 p-2.5 rounded-full backdrop-blur transition-all duration-300 ${
                                                    favorites.includes(product.id) 
                                                        ? 'bg-red-50 text-red-500 shadow-md' 
                                                        : 'bg-black/20 text-white hover:bg-white hover:text-red-500'
                                                }`}
                                            >
                                                <Icons.Heart className="w-5 h-5" filled={favorites.includes(product.id)} />
                                            </button>

                                            {/* Imagen */}
                                            <div className="h-56 relative overflow-hidden bg-gray-100 dark:bg-gray-800">
                                                <img 
                                                    src={productImages[product.id] || product.image} 
                                                    alt={product.name}
                                                    className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
                                                />
                                                <div className="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-60"></div>
                                                <div className="absolute bottom-4 left-4 right-4">
                                                    <h3 className="text-2xl font-bold text-white mb-1 drop-shadow-md">{product.name}</h3>
                                                    <p className="text-gray-200 text-xs font-mono opacity-90">{product.type}</p>
                                                </div>
                                            </div>

                                            {/* Cuerpo */}
                                            <div className="p-6 flex-1 flex flex-col">
                                                <div className="mb-4">
                                                    <p className="text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wide mb-1">Ingrediente Activo</p>
                                                    <p className="text-sm font-medium text-slate-700 dark:text-slate-300">{product.activeIngredient}</p>
                                                </div>
                                                
                                                <p className="text-slate-500 dark:text-slate-400 text-sm leading-relaxed line-clamp-3 mb-6 flex-1">
                                                    {product.description}
                                                </p>

                                                <div className="flex flex-wrap gap-2 mb-6">
                                                    {product.crops.slice(0,3).map((c, i) => (
                                                        <span key={i} className="px-2.5 py-1 rounded-md bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-xs font-medium border border-gray-100 dark:border-gray-700">
                                                            {c}
                                                        </span>
                                                    ))}
                                                </div>

                                                <div className="flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-800">
                                                    <span className="text-emerald-600 dark:text-emerald-400 text-xs font-bold uppercase tracking-wider flex items-center gap-2 group-hover:gap-3 transition-all">
                                                        Ver Detalles <Icons.ChevronRight className="w-4 h-4" />
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            ) : (
                                <div className="text-center py-20">
                                    <div className="w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6">
                                        <Icons.Filter className="w-8 h-8 text-gray-400" />
                                    </div>
                                    <h3 className="text-xl font-bold text-slate-900 dark:text-white mb-2">Sin resultados</h3>
                                    <p className="text-slate-500">Intenta cambiar los filtros o la búsqueda.</p>
                                    <button onClick={() => {setSearchQuery(""); setSelectedCategory("Todos")}} className="mt-6 text-emerald-500 font-bold hover:underline">
                                        Limpiar Filtros
                                    </button>
                                </div>
                            )}
                        </div>
                    </div>

                    {/* FOOTER CORPORATIVO */}
                    <footer id="contacto" className="bg-slate-900 text-slate-400 py-12 lg:py-16">
                        <div className="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-12">
                            <div className="col-span-1 md:col-span-2">
                                <div className="flex items-center gap-3 mb-6 text-white">
                                    <div className="w-8 h-8 bg-emerald-500 rounded flex items-center justify-center font-bold text-lg">C</div>
                                    <span className="font-bold text-xl tracking-tight">CERTIS AGRO</span>
                                </div>
                                <p className="leading-relaxed max-w-sm mb-6">
                                    Líderes en soluciones biorracionales innovadoras para la protección de cultivos, comprometidos con la agricultura sostenible y el medio ambiente.
                                </p>
                                <div className="flex gap-4">
                                    {/* Social placeholders */}
                                    {[1,2,3].map(i => (
                                        <div key={i} className="w-10 h-10 rounded-full bg-white/5 hover:bg-emerald-500 hover:text-white transition-colors flex items-center justify-center cursor-pointer">
                                            <Icons.Share className="w-4 h-4" />
                                        </div>
                                    ))}
                                </div>
                            </div>
                            <div>
                                <h4 className="text-white font-bold mb-6 uppercase tracking-wider text-sm">Enlaces Rápidos</h4>
                                <ul className="space-y-3 text-sm">
                                    {['Inicio', 'Catálogo', 'Sustentabilidad', 'Contacto', 'Aviso de Privacidad'].map(item => (
                                        <li key={item}><a href="#" className="hover:text-emerald-400 transition-colors">{item}</a></li>
                                    ))}
                                </ul>
                            </div>
                            <div>
                                <h4 className="text-white font-bold mb-6 uppercase tracking-wider text-sm">Contacto</h4>
                                <ul className="space-y-3 text-sm">
                                    <li>Av. Vallarta 1234, GDL, MX</li>
                                    <li>contacto@certisagro.com</li>
                                    <li>+52 (33) 1234 5678</li>
                                </ul>
                            </div>
                        </div>
                        <div className="max-w-7xl mx-auto px-6 pt-8 mt-12 border-t border-white/10 text-xs text-center md:text-left flex flex-col md:flex-row justify-between items-center">
                            <p>&copy; 2025 Certis Agro México. Todos los derechos reservados.</p>
                            <p className="mt-2 md:mt-0">Desarrollado con React & Tailwind</p>
                        </div>
                    </footer>

                    {/* MODAL DE DETALLE */}
                    {selectedProduct && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in">
                            <div className="bg-white dark:bg-gray-900 w-full max-w-4xl max-h-[90vh] rounded-[2rem] shadow-2xl overflow-hidden flex flex-col md:flex-row relative">
                                <button onClick={() => setSelectedProduct(null)} className="absolute top-4 right-4 z-20 p-2 rounded-full bg-black/10 hover:bg-black/20 dark:bg-white/10 dark:hover:bg-white/20 backdrop-blur transition-colors">
                                    <Icons.X className="w-6 h-6 text-slate-700 dark:text-white" />
                                </button>

                                {/* Columna Imagen */}
                                <div className="w-full md:w-2/5 h-64 md:h-auto relative bg-gray-100 dark:bg-gray-800">
                                    <img src={productImages[selectedProduct.id] || selectedProduct.image} className="w-full h-full object-cover" alt={selectedProduct.name} />
                                    <div className="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent md:hidden"></div>
                                    <div className="absolute bottom-4 left-4 md:hidden text-white">
                                        <h2 className="text-3xl font-bold">{selectedProduct.name}</h2>
                                        <p className="opacity-80">{selectedProduct.type}</p>
                                    </div>
                                </div>

                                {/* Columna Info */}
                                <div className="flex-1 p-8 md:p-10 overflow-y-auto custom-scrollbar bg-white dark:bg-gray-900">
                                    <div className="hidden md:block mb-6">
                                        <div className="flex items-center gap-3 mb-2">
                                            <span className="px-3 py-1 rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 text-xs font-bold uppercase tracking-wide">
                                                {selectedProduct.category}
                                            </span>
                                            <span className="text-slate-400 text-sm font-mono border-l pl-3 border-slate-200">{selectedProduct.type}</span>
                                        </div>
                                        <h2 className="text-4xl font-extrabold text-slate-900 dark:text-white">{selectedProduct.name}</h2>
                                    </div>

                                    <div className="space-y-8">
                                        {/* Ingrediente */}
                                        <div className="p-4 rounded-xl bg-gray-50 dark:bg-gray-800 border border-gray-100 dark:border-gray-700">
                                            <p className="text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Ingrediente Activo</p>
                                            <p className="text-lg font-semibold text-emerald-600 dark:text-emerald-400">{selectedProduct.activeIngredient}</p>
                                        </div>

                                        {/* Descripción */}
                                        <div>
                                            <h3 className="text-lg font-bold text-slate-900 dark:text-white mb-3 flex items-center gap-2">
                                                <Icons.Info className="w-5 h-5 text-emerald-500" /> Descripción
                                            </h3>
                                            <p className="text-slate-600 dark:text-slate-300 leading-relaxed">
                                                {selectedProduct.description} Diseñado específicamente para maximizar el rendimiento bajo estándares de agricultura moderna.
                                            </p>
                                        </div>

                                        {/* Beneficios */}
                                        <div>
                                            <h3 className="text-lg font-bold text-slate-900 dark:text-white mb-4">Beneficios Clave</h3>
                                            <ul className="grid gap-3">
                                                {selectedProduct.benefits.map((b, i) => (
                                                    <li key={i} className="flex items-start gap-3 p-3 rounded-lg bg-emerald-50/50 dark:bg-emerald-900/20">
                                                        <Icons.CheckCircle className="w-5 h-5 text-emerald-500 shrink-0 mt-0.5" />
                                                        <span className="text-sm font-medium text-slate-700 dark:text-slate-300">{b}</span>
                                                    </li>
                                                ))}
                                            </ul>
                                        </div>

                                        {/* Acciones Footer */}
                                        <div className="flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-100 dark:border-gray-800">
                                            <button 
                                                onClick={() => generatePDF(selectedProduct)}
                                                className="flex-1 py-3.5 rounded-xl bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold flex items-center justify-center gap-2 hover:shadow-lg transition-all active:scale-95"
                                            >
                                                <Icons.FileText className="w-5 h-5" /> Descargar Ficha
                                            </button>
                                            <a 
                                                href={`https://wa.me/?text=Hola, me interesa información sobre ${selectedProduct.name}`}
                                                target="_blank"
                                                className="flex-1 py-3.5 rounded-xl bg-emerald-500 text-white font-bold flex items-center justify-center gap-2 hover:bg-emerald-600 hover:shadow-lg hover:shadow-emerald-500/30 transition-all active:scale-95"
                                            >
                                                <Icons.Share className="w-5 h-5" /> WhatsApp
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
    </script>
</body>
</html>
